#!/usr/bin/env bash

set -euo pipefail

case $(grep -w -m1 '^vendor_id' /proc/cpuinfo | awk '{print $NF}') in
GenuineIntel) export INSTALL_CPU=intel ;;
AuthenticAMD) export INSTALL_CPU=amd ;;
esac

grep -wq 0 /sys/block/"${INSTALL_DEVICE##*/}"/queue/rotational && export INSTALL_SSD=1

systemd-detect-virt | grep -wq oracle && export INSTALL_VIRTUALBOX=1
